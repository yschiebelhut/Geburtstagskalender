<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
<xsl:template match="/">
	<html>
		<head>
			<meta charset="utf-8" />
			<title>Birthday calendar</title>
			<link href="../css/default.css" type="text/css" rel="stylesheet" />
			<link href="../css/addview.css" type="text/css" rel="stylesheet" />
		
			<script type="text/javascript" >
				function sendData(){
					var name = document.getElementById("name").value
					var date = document.getElementById("date").value
					var notes = document.getElementById("notes").value

					var date_ar = date.split("-")
					var year = date_ar[0]
					var month = date_ar[1]
					var day = date_ar[2]

					var data = {
					name : name,
					day : day,
					month : month,
					year : year,
					notes : notes
					}
					data = JSON.stringify(data)
					console.log(data)

					var xhr = new XMLHttpRequest();
					xhr.open("POST", '/createEntry', true);

					xhr.setRequestHeader("Content-Type", "application/json");

					xhr.onreadystatechange = function() {
						if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {
						console.log("sent data")
						}
					}
					xhr.send(data);
				}
   			</script>
		</head>

		<body>
			<div class="menue">
				<div class="menue-box" id="div-logo">
					<img src="../images/logo.png" id="logo" />
				</div>
				<div class="menue-box">
					<h1>My Calendar</h1>
				</div>
				<div class="menue-button-box">
					<a href="calendarview.html"><button type="button" height="200px" class="button">Calendar</button></a>
					<a href="listview.html"><button type="button" height="200px" class="button">List</button></a>
					<div class="plus">
						<a href="addview.html" class="plus"><img src="../images/plus.png" width="auto" height="70%" /></a>
					</div>
				</div>
			</div>

			<!-- Formular-Container-->
			<div class="content-area">
				
					<h1>new birthday</h1>
					<p><input id="name" type="text" name="name" placeholder="Name" required /></p>
					<p><input id="date" type="date" name="date" placeholder="Date" required /></p>
					<p><textarea id="notes" type="text" name="message" rows="8" cols="60" placeholder="Note" ></textarea></p>
					<p><input type="text" name="reminder" placeholder="Reminder" /></p>

					<div class="button-box">
						<input id="submit" class="form-button" type="submit" value="Save" onclick="sendData()" />
						<input id="cancel" class="form-button" type="reset" value="Cancel" onclick="cancel()"/>
					</div>
				
			</div>
		</body>

	</html>
</xsl:template>
</xsl:stylesheet>